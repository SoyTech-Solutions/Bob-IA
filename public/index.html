<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BobIA</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./sidebar.css">
</head>

<body>
    <aside class="side-bar">
        <div class="logo-wrapper">
            <img src="./assets/img/logo-soysense.png" />
        </div>
        <br>
        <div class="profile-wrapper">
            <div class="profile-picture">
                <img src="../assets/img/profile.jpg" />
            </div>
            <span>Empresa</span>
            <h4>SPTech School</h4>
        </div>
        <div class="line-side-bar"></div>
        <nav class="nav-side-bar">
            <ul class="accordion-menu">
                <li class="nav-normal-item dash-on">
                    <a href="./dashboard.html">
                        <img width="17" height="17"
                            src="https://img.icons8.com/material-outlined/24/FFFFFF/dashboard-layout.png"
                            alt="dashboard-layout" />
                        Dashboard
                    </a>
                </li>
                <li class="accordion-item">
                    <div class="accordion-item-header">
                        <img width="20" height="20"
                            src="https://img.icons8.com/material-outlined/24/FFFFFF/maintenance.png"
                            alt="maintenance" />
                        <span>Gerenciar</span>
                    </div>
                    <ul class="accordion-submenu">
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp; Complexo</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Sensor</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href="./gerenciar-monitor.html"><img width="10" style="transform: rotate(270deg);"
                                    height="10" src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Gestor</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href="./gerenciar-funcionario.html"><img width="10" style="transform: rotate(270deg);"
                                    height="10" src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Funcionário</a>
                        </li>
                    </ul>
                </li>
                <li class="accordion-item">
                    <div class="accordion-item-header alerta-item">
                        <img width="17" height="17" src="https://img.icons8.com/material-outlined/24/FFFFFF/address.png"
                            alt="address" />
                        <span>Complexo</span>
                    </div>
                    <ul class="accordion-submenu">
                        <li class="accordion-subitem ">
                            <a href="fazenda.html" class="alerta-item"><img width="10"
                                    style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Fazenda X</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href="fazenday.html"><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Fazenda Y</a>
                        </li>
                    </ul>
                </li>
                <li class="accordion-item">
                    <div class="accordion-item-header">
                        <img width="17" height="17"
                            src="https://img.icons8.com/material-outlined/24/FFFFFF/document--v1.png"
                            alt="document--v1" />
                        <span>Relatório</span>
                    </div>
                    <ul class="accordion-submenu">
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Desempenho</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Rentabilidade</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Anomalias</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-normal-item">
                    <a href="">
                        <img width="17" height="17"
                            src="https://img.icons8.com/material-outlined/24/FFFFFF/fine-print.png" alt="fine-print" />
                        Benchmarking
                    </a>
                </li>
                <li class="accordion-item">
                    <div class="accordion-item-header">
                        <img width="17" height="17"
                            src="https://img.icons8.com/material-outlined/24/FFFFFF/settings--v1.png"
                            alt="settings--v1" />
                        <span>Configuração</span>
                    </div>
                    <ul class="accordion-submenu">
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Perfil</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Personalizar</a>
                        </li>
                        <li class="accordion-subitem">
                            <a href=""><img width="10" style="transform: rotate(270deg);" height="10"
                                    src="https://img.icons8.com/material-outlined/24/FFFFFF/left-down2.png"
                                    alt="left-down2" />&nbsp;Suporte</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>
        <div class="footer-aside">
            <div class="logout-container">
                <a href="#">
                    <img width="20" height="20" src="https://img.icons8.com/ios-filled/50/f13939/logout-rounded.png"
                        alt="logout-rounded" />
                    Sair
                </a>
            </div>
        </div>
    </aside>

    <div id="container">
        <h1>SoyTech Solutions</h1>
        <hr>
        <div id="historico"></div>
        <div class="input-container">
            <div class="botaoArea">
            <textarea id="pergunta" type="text" placeholder="Digite a pergunta..."></textarea>
            <button  onclick="gerarResposta()"></button>
        </div>
        </div>
    </div>
    <script>

        async function gerarResposta() {
            const pergunta = document.getElementById('pergunta').value;
            const response = await fetch('/perguntar', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ pergunta })
            });

            const data = await response.json();
            const historico = document.getElementById('historico');

            const perguntaDiv = document.createElement('div');
            perguntaDiv.classList.add('pergunta');
            perguntaDiv.innerText = pergunta;

            const respostaDiv = document.createElement('div');
            respostaDiv.classList.add('resposta');
            respostaDiv.innerText = data.resultado;

            historico.appendChild(perguntaDiv);
            historico.appendChild(respostaDiv);

            document.getElementById('pergunta').value = '';

            historico.scrollTop = historico.scrollHeight;

            // const resposta = document.getElementById('resposta');
            // resposta.style.display = 'block';
            // resposta.innerText = data.resultado;
            // resposta.scrollIntoView({behavior: 'smooth'});
            // document.getElementById('resposta').innerText = data.resultado;
        }

    </script>

</body>

</html>